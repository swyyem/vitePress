@use 'mixins/mixins' as *;
@use 'common/var' as *;

@include b(date-picker) {
  position: relative;
  display: inline-block;
  width: 100%;

  @include e(icon) {
    font-size: 14px;
    line-height: 1;
  }

  @include e(panel) {
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    z-index: 2000;
    background: getCssVar('bg-color', 'overlay');
    border: 1px solid getCssVar('border-color-light');
    border-radius: 4px;
    box-shadow: getCssVar('box-shadow-light');
    padding: 12px;
    min-width: 322px;
  }

  @include e(header) {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 12px;
    margin-bottom: 8px;
    border-bottom: 1px solid getCssVar('border-color-lighter');
  }

  @include e(header-label) {
    flex: 1;
    text-align: center;
    font-size: 14px;
    font-weight: 500;
    color: getCssVar('text-color-primary');
  }

  @include e(prev-btn) {
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    color: getCssVar('text-color-regular');
    cursor: pointer;
    font-size: 14px;
    border-radius: 4px;
    transition: all 0.3s;

    &:hover {
      background: getCssVar('fill-color-light');
      color: getCssVar('color-primary');
    }

    &:active {
      background: getCssVar('fill-color');
    }
  }

  @include e(next-btn) {
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    color: getCssVar('text-color-regular');
    cursor: pointer;
    font-size: 14px;
    border-radius: 4px;
    transition: all 0.3s;

    &:hover {
      background: getCssVar('fill-color-light');
      color: getCssVar('color-primary');
    }

    &:active {
      background: getCssVar('fill-color');
    }
  }

  @include e(content) {
    padding: 4px;
  }

  @include e(week-header) {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    margin-bottom: 4px;
  }

  @include e(week-cell) {
    text-align: center;
    padding: 8px 0;
    font-size: 12px;
    color: getCssVar('text-color-secondary');
    font-weight: 500;
  }

  @include e(date-table) {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
  }

  @include e(date-cell) {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 36px;
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.3s;

    &:hover {
      background: getCssVar('fill-color-light');
    }

    @include when(today) {
      @include e(date-cell-text) {
        color: getCssVar('color-primary');
        font-weight: 600;
      }
    }

    @include when(selected) {
      background: getCssVar('color-primary');

      @include e(date-cell-text) {
        color: #ffffff;
        font-weight: 600;
      }

      &:hover {
        background: getCssVar('color-primary');
        opacity: 0.9;
      }
    }

    @include when(disabled) {
      cursor: not-allowed;
      color: getCssVar('text-color-placeholder');
      background: transparent;

      &:hover {
        background: transparent;
      }

      @include e(date-cell-text) {
        color: getCssVar('text-color-placeholder');
      }
    }

    @include when(prev-month) {
      @include e(date-cell-text) {
        color: getCssVar('text-color-placeholder');
      }
    }

    @include when(next-month) {
      @include e(date-cell-text) {
        color: getCssVar('text-color-placeholder');
      }
    }
  }

  @include e(date-cell-text) {
    font-size: 14px;
    color: getCssVar('text-color-regular');
  }

  @include m(large) {
    .swy-input {
      height: 40px;
    }
  }

  @include m(small) {
    .swy-input {
      height: 24px;
    }
  }

  @include when(disabled) {
    cursor: not-allowed;
  }
}

// Zoom in top transition
.swy-zoom-in-top-enter-active,
.swy-zoom-in-top-leave-active {
  opacity: 1;
  transform: scaleY(1);
  transition:
    transform 0.3s cubic-bezier(0.23, 1, 0.32, 1),
    opacity 0.3s cubic-bezier(0.23, 1, 0.32, 1);
  transform-origin: center top;
}

.swy-zoom-in-top-enter-from,
.swy-zoom-in-top-leave-to {
  opacity: 0;
  transform: scaleY(0);
}
