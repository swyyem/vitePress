# JSONP原理

- JSONP的原理是利用`<script>`标签没有跨域限制的特性来实现跨域请求。

## 具体流程是：

- 前端先定义一个全局回调函数
- 然后动态创建`<script>`标签，src指向目标API并传递回调函数名
- 后端接收到请求后，不是返回JSON，而是返回一段JS代码：回调函数名(数据)
- 浏览器加载这个script后会执行这段代码，从而调用前端的回调函数并传入数据
- JSONP的优点是兼容性好，但缺点是只支持GET请求，有安全风险，现在已经被CORS方案取代了。
- 我理解JSONP更多是为了应付老项目中的跨域问题，新项目应该使用CORS。

## 记住核心点：

- JSONP = 利用script标签 + 后端返回JS代码 + 回调函数
