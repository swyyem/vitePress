# 常用git指令

## 第一章：初来乍到 - 获取项目 & 创建功能空间

当你加入一个新项目，或者开始一项新任务时：

- 1. `git clone [地址]`
  - **_通俗解释：“下载项目”。_**把远程仓库（比如 GitHub 上的代码库）整个复制到你的本地电脑上。这是万事的第一步。
  - **_好比：_**公司给你分配任务，你先去档案室把整个项目资料复印一份带回家。

- 2. `git branch [分支名]`
  - **_通俗解释：“创建并切换到一个新工作区”。_**主分支（main/master）是稳定版，你不能直接在上面修改。所以你要开一个自己的分支，在里面随便折腾都不会影响别人。
  - **_好比：_**你在家里的大客厅（主分支）旁边，自己开辟了一个小书房（功能分支），专心地搞你的新功能。

## 第二章：埋头干活 - 日常开发循环

在你的“小书房”里干活，这是一个不断重复的循环：

- 1. `git status`
  - **_通俗解释：“看看现在啥情况？”_**这是你最常用的命令，它告诉你哪些文件被修改了，哪些文件已经准备好被存档了。心里没底的时候就敲一下。
  - **_好比：_**公司给你分配任务，你先去档案室把整个项目资料复印一份带回家。

- 2. `git add [文件名]`或`git add .`
  - **_通俗解释：“把改动放进暂存区”。_**你写完一部分代码，需要把它放到一个叫“暂存区”的“打包盒”里，准备正式存档。`git add .` 是把所有改动都放进“打包盒”。
  - **_好比：_**你画完了一部分设计图，把它放进一个“待提交”的文件筐里。

- 3. `git commit -m "提交信息"`
  - **_通俗解释：“正式存档”。_**给“打包盒”贴上标签（提交信息），然后正式存入本地仓库的“历史档案库”。这个存档点是你以后可以随时回来的“安全屋”。
  - **_好比：_**提交信息一定要写清楚！例如 `fix: 修复登录按钮无法点击的问题`。

- 4. `git push origin [分支名]`
  - **_通俗解释：“把你的本地存档上传到云端”。_**这样既做了备份，也让同事能看到你的工作进度。第一次推送时需要用 `git push -u origin [分支名]` 建立关联。

## 第三章：团队协作 - 同步与合并

你不可能与世隔绝，需要时刻和团队保持同步：

- 1. `git pull origin [分支名]`
  - **_通俗解释：“下载最新代码并合并”_**这是 `git fetch`（下载） + `git merge`（合并） 两个操作的组合拳。每天早上开工前第一件事，就是拉取主分支的最新代码到你的分支，防止掉队。
  - **_风险：_**如果你和同事改了同一个文件，这时候就可能发生`冲突`。

- 2. **_处理冲突_**
  - 当 `git pull` 或 `git merge` 后提示冲突，不要慌。
  - **_步骤：_**
    - 1. 用 `git status` 找到冲突文件。
    - 2. 打开文件，会看到 `<<<<<<<`， `=======`， `>>>>>>>` 这些标记，它们标出了冲突的地方。
    - 3. 沟通！ 和写冲突代码的同事商量，保留谁的，或者重新写一个更好的。
    - 4. 解决后，执行 `git add [文件名]` 告诉 Git 冲突已解决，然后 `git commit` 完成合并。

- 3. `git merge [分支名]`
  - **_通俗解释：“分支合流”。_**当你的功能开发完毕并通过测试后，就需要把你的“小书房”里的成果，合并回“大客厅”（主分支）。
  - **_流程：_**通常我们不会自己合并，而是通过发起 **_Pull Request_** 或 **_Merge Request_**，让同事审查代码后，在平台上操作合并。

## 第四章：时光旅行 - 查看与回退

人难免会犯错，这时候 Git 的“时光机”功能就至关重要了。

- 1. `git log`
  - **_通俗解释：“查看历史存档记录”_**显示所有的 `commit` 历史，包括谁、在什么时候、做了什么事。按 `q` 键可以退出。

- 2. `git diff`
  - **_通俗解释：“看看具体改了啥”_**比较当前工作区和最后一次提交的差异。`git diff [文件]` 可以只看特定文件的差异。

- 3. `git restore [文件名]`或旧的 `git checkout -- [文件名]`
  - **_通俗解释：“撤销未存档的修改”_**当你把一个文件改得一塌糊涂，想回到上次 `commit` 时的样子，就用这个命令。**_这是个危险操作，撤销后无法恢复。_**

- 4. **_`git reset [--soft/--mixed/--hard] [commit_id]`_**
  - **_通俗解释：“回退到某个历史版本”_**这是个强大的时间机器，但需要小心使用。
  - **_模式：_**
    - 1. `--soft`: 回到某个版本，但保留你的修改在“暂存区”（打包盒里）。
    - 2. `--mixed`（默认）: 回到某个版本，保留你的修改在工作区，但不在“打包盒”里。
    - 3. `--hard`: **_彻底回溯_**，连修改都不要了，完全变成那个版本的样子。**_非常危险，慎用！_**
